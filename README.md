<----------------HTML代码块------------------------>
<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>综合实例</title>
	<link rel="stylesheet" href="css/style.css">
	
</head>
<body>
	<div class="main" id="main">
		<div class="menu-box"></div>
		<!-- 子菜单 -->
		<div class="sub-menu hide" id="sub-menu">
			<!-- 手机配件的 -->
			<div class="inner-box">
				<div class="sub-inner-box">
					<div class="title">手机配件</div>
					<div class="sub-row">
						<span class="bold mr10">手机通讯:</span>
						<a href="#">手机</a>
						<span class="mr10 ml10">/</span>
						<a href="#">手机维修</a>
						<span class="mr10 ml10">/</span>
						<a href="#">以旧换新</a>	
					</div>
					<div class="sub-row">
						<span class="bold mr10">智能设备:</span>
						<a href="#">手机</a>
						<span class="mr10 ml10">/</span>
						<a href="#">手机维修</a>
						<span class="mr10 ml10">/</span>
						<a href="#">以旧换新</a>	
					</div>
					<div class="sub-row">
						<span class="bold mr10">娱&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;乐:</span>
						<a href="#">手机</a>
						<span class="mr10 ml10">/</span>
						<a href="#">手机维修</a>
						<span class="mr10 ml10">/</span>
						<a href="#">以旧换新</a>	
					</div>
				</div>
			</div>

			<!-- 电脑的 -->
			<div class="inner-box">
				<div class="sub-inner-box">
					<div class="title">电脑：</div>
					<div class="sub-row">
						<span class="bold mr10">手机通讯:</span>
						<a href="#">手机</a>
						<span class="mr10 ml10">/</span>
						<a href="#">手机维修</a>
						<span class="mr10 ml10">/</span>
						<a href="#">以旧换新</a>	
					</div>
					<div class="sub-row">
						<span class="bold mr10">智能设备:</span>
						<a href="#">手机</a>
						<span class="mr10 ml10">/</span>
						<a href="#">手机维修</a>
						<span class="mr10 ml10">/</span>
						<a href="#">以旧换新</a>	
					</div>
					<div class="sub-row">
						<span class="bold mr10">娱&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;乐:</span>
						<a href="#">手机</a>
						<span class="mr10 ml10">/</span>
						<a href="#">手机维修</a>
						<span class="mr10 ml10">/</span>
						<a href="#">以旧换新</a>	
					</div>
				</div>
			</div>
			<!-- 家用电器 -->
			<div class="inner-box">
				<div class="sub-inner-box">
					<div class="title">家用电器：</div>
					<div class="sub-row">
						<span class="bold mr10">手机通讯:</span>
						<a href="#">手机</a>
						<span class="mr10 ml10">/</span>
						<a href="#">手机维修</a>
						<span class="mr10 ml10">/</span>
						<a href="#">以旧换新</a>	
					</div>
					<div class="sub-row">
						<span class="bold mr10">智能设备:</span>
						<a href="#">手机</a>
						<span class="mr10 ml10">/</span>
						<a href="#">手机维修</a>
						<span class="mr10 ml10">/</span>
						<a href="#">以旧换新</a>	
					</div>
					<div class="sub-row">
						<span class="bold mr10">娱&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;乐:</span>
						<a href="#">手机</a>
						<span class="mr10 ml10">/</span>
						<a href="#">手机维修</a>
						<span class="mr10 ml10">/</span>
						<a href="#">以旧换新</a>	
					</div>
				</div>
			</div>
			<!-- 家具 -->
			<div class="inner-box">
				<div class="sub-inner-box">
					<div class="title">家具：</div>
					<div class="sub-row">
						<span class="bold mr10">手机通讯:</span>
						<a href="#">手机</a>
						<span class="mr10 ml10">/</span>
						<a href="#">手机维修</a>
						<span class="mr10 ml10">/</span>
						<a href="#">以旧换新</a>	
					</div>
					<div class="sub-row">
						<span class="bold mr10">智能设备:</span>
						<a href="#">手机</a>
						<span class="mr10 ml10">/</span>
						<a href="#">手机维修</a>
						<span class="mr10 ml10">/</span>
						<a href="#">以旧换新</a>	
					</div>
					<div class="sub-row">
						<span class="bold mr10">娱&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;乐:</span>
						<a href="#">手机</a>
						<span class="mr10 ml10">/</span>
						<a href="#">手机维修</a>
						<span class="mr10 ml10">/</span>
						<a href="#">以旧换新</a>	
					</div>
				</div>
			</div>
		</div>

		<!-- 主菜单 -->
		<div class="menu-content" id="menu-content">
			<div class="menu-item">
				<a href="">
					<span>手机配件</span>
					<span>&gt;</span>
				</a>
			</div>
			<div class="menu-item">
				<a href="">
					<span>电脑</span>
					<span>&gt;</span>
					
				</a>
			</div>
			<div class="menu-item">
				<a href="">
					<span>家用电器</span>
					<span>&gt;</span>
				</a>
			</div>
			<div class="menu-item">
				<a href="">
					<span>家具</span>
					<span>&gt;</span>
				</a>
			</div>
		</div>

		<!-- 图片轮播 -->
		<div class="banner" id="banners">
			<a href="">
				<div class="banner-slide slide1 slide-active"></div>
			</a>
			<a href="">
				<div class="banner-slide slide2"></div>
			</a>
			<a href="">
				<div class="banner-slide slide3"></div>
			</a>	 	
		</div>
		<!-- 上一张 下一张 -->
		<a href="javascript:void(0)" class="button prev" id="prev"></a>
		<a href="javascript:void(0)" class="button next" id="next"></a>
		<!-- 圆点导航 -->
		<div class="dots" id="dots">
			<span class="active"></span>
			<span></span>
			<span></span>
		</div>
	</div>
	<script src="js/script.js"></script>
</body>
</html>


<-----------------css代码块---------------------->
*{
	margin: 0px;
	padding: 0px;
}


ul{
	list-style: none;
}
body{
	font-family: "微软雅黑";
	color: #14191e;
}
a:link,a:visited {
	text-decoration: none;
	color: #333;
}
.main{
	width: 1200px;
	height: 460px;
	margin: 30px auto;
	overflow: hidden; 
	position: relative;
	/*background-color: #f00;*/
}
.hide{
	display: none;
}
.sub-menu {
	width: 730px;
	height: 458px;
	border:1px solid #d9dde1;
	position: absolute;
	left: 244px;
	top: 0;
	box-shadow: 0 4px 8px 0 rgba(0,0,0,0.1);
	z-index: 999;
}

.inner-box{
	width: 100%;
	height: 100%;
	background: url(../img/tc.png) no-repeat ;
	opacity: 0.5;
	display: none;
}

.sub-inner-box {
	width: 652px;
	margin-left: 40px;
	overflow: hidden;
}
.title {
	color: #f01414;
	font-size: 16px;
	line-height: 16px;
	margin: 20px 0 30px 0;
	font-weight: bold; 
}
.sub-row{
	margin-bottom: 15px;
}
.bold{
	font-weight: bold;
}
.mr10{
	margin-right: 10px;
}

.ml10{
	margin-left: 10px;
}
.menu-box{
	width: 244px;
	height: 460px;
	position: absolute;
	top: 0px;
	left: 0px;
	background: rgba(7,17,27,0.5);
	opacity: 0.5;
	z-index: 1;
}	

.menu-content{
	width: 244px;
	height: 454px;
	position: absolute;
	top: 0px;
	left: 0px;
	padding-top: 6px;
	z-index: 2;
}
.menu-item{
	height: 64px;
	line-height: 66px;
	font-size: 12px;
	padding: 0 24px;
}
.menu-item a:link,.menu-item a:visited{
	color: #fff;
}
.menu-item a{
	position: relative;
	display: block;
	border-bottom: 1px solid rgba(255,255,255,0.5);
	padding: 0 8px;
	height: 63px;
}
.menu-item span:first-child{
	font-size: 15px;
}
.menu-item span:last-child{
	position: absolute;
	right: 32px;
	font-size: 15px;
	color: rgba(255,255,255,0.8);

}
.banner{
	width: 1200px;
	height: 460px;
	position: relative;
}
.banner-slide{
	width: 1200px;
	height: 460px;
	position: absolute;
	background-repeat: no-repeat;
	display: none;
}

.slide-active{
	display: block; 
}
.slide1{
	background-image: url("../img/bg1.jpg");

}

.slide2{
	background-image: url("../img/bg2.jpg");
}
.slide3{
	background-image: url("../img/bg3.jpg");
}
.button{
	position: absolute;
	width: 40px;
	height: 80px;
	left: 244px;
	top: 50%;
	margin-top:-40px;
	background:url(../img/arrows.png) no-repeat center center;  
}
.button:hover {
	background-color:#333;
	opacity: 0.5;
	filter:alpha(opacity-80);
}

.next{
	left: auto;
	right: 0px;
	transform: rotate(180deg); 
}

.dots{
	position: absolute;
	right: 20px;
	bottom: 24px;
	text-align: right;
}
.dots span{
	display: inline-block;
	width:12px;
	height: 12px;
	line-height: 12px;
	border-radius: 50%;
	background: rgba(7,17,27,0.4);
	box-shadow: 0 0 0 2px rgba(255,255,255,0.8) inset;
	margin-left: 8px;
	cursor: pointer;
}

.dots span.active{
	box-shadow: 0 0 0 2px rgba(7,17,27,0.4) inset;
	background: #fff;
}

<---------------JS代码块---------------------->
// 封装一个代替getElementById的方法
function byId(id){
	return typeof(id) === "string"? document.getElementById(id):id;
}
var index=0,
	timer=null,
	pics=byId("banners").getElementsByTagName('div'),
	dots=byId("dots").getElementsByTagName("span"),
	len=pics.length,
	prev=byId("prev"),
	next=byId("next"),
	subMenu=byId("sub-menu"),
	innerBox=subMenu.getElementsByClassName('inner-box'),
	menu=byId("menu-content"),
	menuItems=menu.getElementsByClassName('menu-item');


function slideImg(){
	var main =byId("main");
	main.onmouseover=function(){
		// 滑过清除定时器 离开继续
		if(timer) clearInterval(timer);
	}
	main.onmouseout=function(){
		timer=setInterval(function(){
			index++;
			if(index>2) {
				index=0;
			}
			// 切换图片
			changeImg();
		},2000);
	}
	main.onmouseout();

	for(var d=0;d<len;d++){
		dots[d].id=d;
		dots[d].onclick=function(){
			index=this.id;
			this.className="avtive";
			changeImg();
		}
	}

	// 下一张
	next.onclick=function(){
		index++;
		if(index>=len) index=0;
		changeImg();
	}
	prev.onclick=function(){
		index--;
		if(index<0) index=len-1;
		changeImg();
	}

	// 导航菜单
	// 遍历主菜单 绑定事件
	for(var m=0;m<menuItems.length;m++){
		// 给每一个menu-item定义一个date-index属性 作为索引
		menuItems[m].setAttribute("date-index",m);
		menuItems[m].onmouseover=function(){
			subMenu.className="sub-menu";
			var idx=this.getAttribute("date-index");
			// 遍历所有的子菜单 都隐藏
			for(var j=0;j<innerBox.length;j++){
				innerBox[j].style.display="none";
				menuItems[j].style.background="none";
			}
			menuItems[idx].style.background="rgba(0,0,0,0.1)";
			innerBox[idx].style.display="block";
		}
	}

	// 离开时 隐藏子菜单
	menu.onmouseout=function(){
		subMenu.className="sub-menu hide"
	}

	// 划过子菜单是显示
	subMenu.onmouseover=function(){
		this.className="sub-menu";
	}
	subMenu.onmouseout=function(){
		this.className="sub-menu hide";
	}
}

// 切换图片
function changeImg(){
	// 遍历banner下的所有的div 将div隐藏
	for(var i=0;i<len;i++){
		pics[i].style.display="none";	
		dots[i].className="";	
	}
	pics[index].style.display="block";
	dots[index].className="active";
}
slideImg();
